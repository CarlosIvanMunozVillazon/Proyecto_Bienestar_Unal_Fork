-- MySQL Script generated by MySQL Workbench
-- Mon Apr 24 21:17:40 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`TiendaBienestarUN`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`TiendaBienestarUN` ;

CREATE TABLE IF NOT EXISTS `mydb`.`TiendaBienestarUN` (
  `tiendBienID` INT NOT NULL,
  `tiendBienCiudad` VARCHAR(45) NOT NULL,
  `tiendBienDireccion` VARCHAR(50) NOT NULL,
  `tiendBienHorario` VARCHAR(45) NOT NULL,
  `tiendBienDescripcion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`tiendBienID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Area`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Area` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Area` (
  `areNombre` VARCHAR(100) NOT NULL,
  `areTelefono` INT NOT NULL,
  `areCorreoElectronico` VARCHAR(60) NOT NULL,
  `areExtension` INT NOT NULL,
  PRIMARY KEY (`areNombre`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Persona`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Persona` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Persona` (
  `perID` INT NOT NULL,
  `perNombre` VARCHAR(45) NOT NULL,
  `perApellido` VARCHAR(45) NOT NULL,
  `perDireccion` VARCHAR(45) NOT NULL,
  `perBarrio` VARCHAR(45) NOT NULL,
  `perCiudad` VARCHAR(45) NOT NULL,
  `perTipoVivienda` ENUM("Casa", "Apartamento", "Apartaestudio", "Finca") NOT NULL,
  `perLocalidad` VARCHAR(45) NOT NULL,
  `perEmail` VARCHAR(20) NOT NULL,
  `perEntidadSalud` VARCHAR(45) NOT NULL,
  `perProcedencia` VARCHAR(45) NOT NULL,
  `perSede` VARCHAR(20) NOT NULL,
  `perIDTrabTienda` INT NULL,
  `perAreNombre` VARCHAR(100) NULL,
  PRIMARY KEY (`perID`),
  CONSTRAINT `fk_Persona_TiendaBienestarUN1`
    FOREIGN KEY (`perIDTrabTienda`)
    REFERENCES `mydb`.`TiendaBienestarUN` (`tiendBienID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Persona_Area1`
    FOREIGN KEY (`perAreNombre`)
    REFERENCES `mydb`.`Area` (`areNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Persona_TiendaBienestarUN1_idx` ON `mydb`.`Persona` (`perIDTrabTienda` ASC) VISIBLE;

CREATE INDEX `fk_Persona_Area1_idx` ON `mydb`.`Persona` (`perAreNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Ambulancia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Ambulancia` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Ambulancia` (
  `idAmbulancia` VARCHAR(6) NOT NULL,
  PRIMARY KEY (`idAmbulancia`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PersonalSalud`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PersonalSalud` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PersonalSalud` (
  `Persona_id` INT NOT NULL,
  `salProfesion` VARCHAR(45) NULL,
  `salEspecializacion` VARCHAR(45) NULL,
  `salTipo` VARCHAR(10) NOT NULL,
  `Ambulancia_id` VARCHAR(6) NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_PersonalSalud_Persona`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PersonalSalud_Ambulancia1`
    FOREIGN KEY (`Ambulancia_id`)
    REFERENCES `mydb`.`Ambulancia` (`idAmbulancia`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_PersonalSalud_Ambulancia1_idx` ON `mydb`.`PersonalSalud` (`Ambulancia_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Estudiante`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Estudiante` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Estudiante` (
  `estID` INT NOT NULL,
  `estCarrera` VARCHAR(45) NOT NULL,
  `estFacultad` VARCHAR(45) NOT NULL,
  `estPBM` TINYINT NOT NULL,
  `estTipoAdmision` VARCHAR(20) NOT NULL,
  `estEsEgresado` TINYINT NOT NULL,
  `estAnoGraduacion` INT NULL,
  `repEstudFacuID` INT NOT NULL,
  `reprEstudSedeID` INT NOT NULL,
  PRIMARY KEY (`estID`),
  CONSTRAINT `fk_Estudiante_Persona1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Urgencia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Urgencia` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Urgencia` (
  `Persona_id` INT NOT NULL,
  `Ambulancia` VARCHAR(6) NOT NULL,
  `idUrgencia` INT NOT NULL,
  `urgFecha` DATETIME NOT NULL,
  `urgTipo` TINYINT NOT NULL,
  `urgRiesgo` TINYINT NOT NULL,
  `urgDiagnostico` VARCHAR(45) NOT NULL,
  `urgTraslado` VARCHAR(45) NOT NULL,
  `urgHoraRecogida` DATETIME NOT NULL,
  `urgHoraDejada` DATETIME NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_Urgencia_Ambulancia1`
    FOREIGN KEY (`Ambulancia`)
    REFERENCES `mydb`.`Ambulancia` (`idAmbulancia`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Urgencia_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Urgencia_Ambulancia1_idx` ON `mydb`.`Urgencia` (`Ambulancia` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Incapacidad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Incapacidad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Incapacidad` (
  `Persona_id` INT NOT NULL,
  `incFecha` DATE NOT NULL,
  `incEnfermedad` VARCHAR(45) NOT NULL,
  `incDias` TINYINT NOT NULL,
  `incConvalidada` BIT NOT NULL,
  `incSoporteDireccion` VARCHAR(32) NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_Incapacidad_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PerfilRiesgoIntegral`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PerfilRiesgoIntegral` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PerfilRiesgoIntegral` (
  `Persona_id` INT NOT NULL,
  `perFecha` DATE NOT NULL,
  `perResultadoDireccion` VARCHAR(32) NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_PerfilRiesgoIntegral_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Resultados`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Resultados` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Resultados` (
  `PerfilRiesgoIntegral_id` INT NOT NULL,
  `resPregunta` VARCHAR(45) NOT NULL,
  `resRespuesta` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`PerfilRiesgoIntegral_id`),
  CONSTRAINT `fk_Resultados_PerfilRiesgoIntegral1`
    FOREIGN KEY (`PerfilRiesgoIntegral_id`)
    REFERENCES `mydb`.`PerfilRiesgoIntegral` (`Persona_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Discapacidad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Discapacidad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Discapacidad` (
  `Persona_id` INT NOT NULL,
  `disNombre` VARCHAR(45) NOT NULL,
  `disSoporteDireccion` VARCHAR(32) NOT NULL,
  `disVerificado` BIT NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_Discapacidad_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`AsesoriaAseguramientoSalud`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AsesoriaAseguramientoSalud` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AsesoriaAseguramientoSalud` (
  `Persona_id` INT NOT NULL,
  `aseFecha` DATE NOT NULL,
  `aseResultado` VARCHAR(45) NOT NULL,
  `aseDescripcion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_AsesoriaAseguramientoSalud_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`HistoriaClinica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`HistoriaClinica` ;

CREATE TABLE IF NOT EXISTS `mydb`.`HistoriaClinica` (
  `Persona_id` INT NOT NULL,
  `hisFechaApertura` DATE NOT NULL,
  PRIMARY KEY (`Persona_id`),
  CONSTRAINT `fk_HistoriaClinica_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_HistoriaClinica_Persona1_idx` ON `mydb`.`HistoriaClinica` (`Persona_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`CitaMedica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CitaMedica` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CitaMedica` (
  `idCitaMedica` INT NOT NULL,
  `Doctor` INT NOT NULL,
  `Paciente` INT NOT NULL,
  `citFecha` DATETIME NOT NULL,
  `citEspecialidad` VARCHAR(45) NOT NULL,
  `citDiagnostico` VARCHAR(80) NULL,
  `HistoriaClinica_id` INT NOT NULL,
  PRIMARY KEY (`idCitaMedica`),
  CONSTRAINT `fk_CitaMedica_PersonalSalud1`
    FOREIGN KEY (`Doctor`)
    REFERENCES `mydb`.`PersonalSalud` (`Persona_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CitaMedica_Persona1`
    FOREIGN KEY (`Paciente`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CitaMedica_HistoriaClinica1`
    FOREIGN KEY (`HistoriaClinica_id`)
    REFERENCES `mydb`.`HistoriaClinica` (`Persona_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_CitaMedica_PersonalSalud1_idx` ON `mydb`.`CitaMedica` (`Doctor` ASC) VISIBLE;

CREATE INDEX `fk_CitaMedica_Persona1_idx` ON `mydb`.`CitaMedica` (`Paciente` ASC) VISIBLE;

CREATE INDEX `fk_CitaMedica_HistoriaClinica1_idx` ON `mydb`.`CitaMedica` (`HistoriaClinica_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`EvaluacionFisica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`EvaluacionFisica` ;

CREATE TABLE IF NOT EXISTS `mydb`.`EvaluacionFisica` (
  `CitaMedica_id` INT NOT NULL,
  `evaPeso` TINYINT NOT NULL,
  `evaEstatura` TINYINT NOT NULL,
  `evaRitmoCardiaco` TINYINT NOT NULL,
  `evaVision` TINYINT NOT NULL,
  PRIMARY KEY (`CitaMedica_id`),
  CONSTRAINT `fk_EvaluacionFisica_CitaMedica1`
    FOREIGN KEY (`CitaMedica_id`)
    REFERENCES `mydb`.`CitaMedica` (`idCitaMedica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Medicamentos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Medicamentos` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Medicamentos` (
  `CitaMedica_id` INT NOT NULL,
  `medNombre` VARCHAR(45) NOT NULL,
  `medCantidad` TINYINT NOT NULL,
  `medIntervalos` TINYINT NOT NULL,
  PRIMARY KEY (`CitaMedica_id`),
  CONSTRAINT `fk_Medicamentos_CitaMedica1`
    FOREIGN KEY (`CitaMedica_id`)
    REFERENCES `mydb`.`CitaMedica` (`idCitaMedica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`OrdenMedica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`OrdenMedica` ;

CREATE TABLE IF NOT EXISTS `mydb`.`OrdenMedica` (
  `CitaMedica_id` INT NOT NULL,
  `ordExamen` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CitaMedica_id`),
  CONSTRAINT `fk_OrdenMedica_CitaMedica1`
    FOREIGN KEY (`CitaMedica_id`)
    REFERENCES `mydb`.`CitaMedica` (`idCitaMedica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`AntecedentesFamiliares`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AntecedentesFamiliares` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AntecedentesFamiliares` (
  `HistoriaClinica_id` INT NOT NULL,
  `antFamiliar` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`HistoriaClinica_id`),
  CONSTRAINT `fk_AntecedentesFamiliares_HistoriaClinica1`
    FOREIGN KEY (`HistoriaClinica_id`)
    REFERENCES `mydb`.`HistoriaClinica` (`Persona_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Enfermedad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Enfermedad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Enfermedad` (
  `HistoriaClinica_id` INT NOT NULL,
  `enfNombre` VARCHAR(45) NOT NULL,
  `enfFechaInicio` DATE NOT NULL,
  PRIMARY KEY (`HistoriaClinica_id`),
  CONSTRAINT `fk_Enfermedad_HistoriaClinica1`
    FOREIGN KEY (`HistoriaClinica_id`)
    REFERENCES `mydb`.`HistoriaClinica` (`Persona_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`EnfermedadDeFamiliar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`EnfermedadDeFamiliar` ;

CREATE TABLE IF NOT EXISTS `mydb`.`EnfermedadDeFamiliar` (
  `Enfermedad_id` INT NOT NULL,
  `AntecedentesFamiliares_id` INT NOT NULL,
  PRIMARY KEY (`Enfermedad_id`, `AntecedentesFamiliares_id`),
  CONSTRAINT `fk_Enfermedad_has_AntecedentesFamiliares_Enfermedad1`
    FOREIGN KEY (`Enfermedad_id`)
    REFERENCES `mydb`.`Enfermedad` (`HistoriaClinica_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Enfermedad_has_AntecedentesFamiliares_AntecedentesFamiliar1`
    FOREIGN KEY (`AntecedentesFamiliares_id`)
    REFERENCES `mydb`.`AntecedentesFamiliares` (`HistoriaClinica_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Enfermedad_has_AntecedentesFamiliares_AntecedentesFamili_idx` ON `mydb`.`EnfermedadDeFamiliar` (`AntecedentesFamiliares_id` ASC) VISIBLE;

CREATE INDEX `fk_Enfermedad_has_AntecedentesFamiliares_Enfermedad1_idx` ON `mydb`.`EnfermedadDeFamiliar` (`Enfermedad_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Actividad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Actividad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Actividad` (
  `idActividad` INT NOT NULL,
  `actTipo` VARCHAR(45) NOT NULL,
  `actFecha` DATETIME NOT NULL,
  `actAlcance` INT NOT NULL,
  `actPresupuesto` INT NOT NULL,
  `actDescripcion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idActividad`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ActividadOrganizadores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ActividadOrganizadores` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ActividadOrganizadores` (
  `Actividad_id` INT NOT NULL,
  `Organizador_id` INT NOT NULL,
  PRIMARY KEY (`Actividad_id`, `Organizador_id`),
  CONSTRAINT `fk_Actividad_has_Persona_Actividad1`
    FOREIGN KEY (`Actividad_id`)
    REFERENCES `mydb`.`Actividad` (`idActividad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Actividad_has_Persona_Persona1`
    FOREIGN KEY (`Organizador_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Actividad_has_Persona_Persona1_idx` ON `mydb`.`ActividadOrganizadores` (`Organizador_id` ASC) VISIBLE;

CREATE INDEX `fk_Actividad_has_Persona_Actividad1_idx` ON `mydb`.`ActividadOrganizadores` (`Actividad_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ActividadParticipantes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ActividadParticipantes` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ActividadParticipantes` (
  `Actividad_id` INT NOT NULL,
  `Participante_id` INT NOT NULL,
  PRIMARY KEY (`Actividad_id`, `Participante_id`),
  CONSTRAINT `fk_Actividad_has_Persona_Actividad2`
    FOREIGN KEY (`Actividad_id`)
    REFERENCES `mydb`.`Actividad` (`idActividad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Actividad_has_Persona_Persona2`
    FOREIGN KEY (`Participante_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Actividad_has_Persona_Persona2_idx` ON `mydb`.`ActividadParticipantes` (`Participante_id` ASC) VISIBLE;

CREATE INDEX `fk_Actividad_has_Persona_Actividad2_idx` ON `mydb`.`ActividadParticipantes` (`Actividad_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ComitSedeDirectores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ComitSedeDirectores` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ComitSedeDirectores` (
  `comitSedeDirectoresID` INT NOT NULL,
  `comitSedeDirectoresAno` INT NOT NULL,
  `docID` INT NOT NULL,
  `conBienID` INT NOT NULL,
  PRIMARY KEY (`comitSedeDirectoresID`),
  CONSTRAINT `fk_ComitSedeDirectores_Docente1`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComitSedeDirectores_ConBieneUniv1`
    FOREIGN KEY (`conBienID`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ComitSedeDirectores_Docente1_idx` ON `mydb`.`ComitSedeDirectores` (`docID` ASC) VISIBLE;

CREATE INDEX `fk_ComitSedeDirectores_ConBieneUniv1_idx` ON `mydb`.`ComitSedeDirectores` (`conBienID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ComitNacDirectores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ComitNacDirectores` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ComitNacDirectores` (
  `comiNacDirectoresID` INT NOT NULL,
  `conBienAnoCreacion` INT NOT NULL,
  PRIMARY KEY (`comiNacDirectoresID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DirectorBienestar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DirectorBienestar` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DirectorBienestar` (
  `docID` INT NOT NULL,
  `dirBienestarAnoInicio` INT NOT NULL,
  `dirBienestarNivel` ENUM("SEDE", "FACULTAD", "NACIONAL") NOT NULL,
  `comitNacDirectoresID` INT NOT NULL,
  `comitSedeDirectoresID` INT NOT NULL,
  PRIMARY KEY (`docID`),
  CONSTRAINT `fk_DirectorBienestar_Docente1`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DirectorBienestar_ComitNacDirectores1`
    FOREIGN KEY (`comitNacDirectoresID`)
    REFERENCES `mydb`.`ComitNacDirectores` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DirectorBienestar_ComitSedeDirectores1`
    FOREIGN KEY (`comitSedeDirectoresID`)
    REFERENCES `mydb`.`ComitSedeDirectores` (`comitSedeDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_DirectorBienestar_Docente1_idx` ON `mydb`.`DirectorBienestar` (`docID` ASC) VISIBLE;

CREATE INDEX `fk_DirectorBienestar_ComitNacDirectores1_idx` ON `mydb`.`DirectorBienestar` (`comitNacDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_DirectorBienestar_ComitSedeDirectores1_idx` ON `mydb`.`DirectorBienestar` (`comitSedeDirectoresID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`DirBienUnivSede`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DirBienUnivSede` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DirBienUnivSede` (
  `dirBienSedeID` INT NOT NULL,
  `comitSedeDirectoresID` INT NOT NULL,
  `dirBienSedeAno` INT NOT NULL,
  `dirBienSedeSede` VARCHAR(45) NOT NULL,
  `directorBienestarID` INT NOT NULL,
  PRIMARY KEY (`dirBienSedeID`, `comitSedeDirectoresID`),
  CONSTRAINT `fk_DirBienUnivSede_ComitSedeDirectores2`
    FOREIGN KEY (`comitSedeDirectoresID`)
    REFERENCES `mydb`.`ComitSedeDirectores` (`comitSedeDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DirBienUnivSede_DirectorBienestar1`
    FOREIGN KEY (`directorBienestarID`)
    REFERENCES `mydb`.`DirectorBienestar` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_DirBienUnivSede_ComitSedeDirectores2_idx` ON `mydb`.`DirBienUnivSede` (`comitSedeDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_DirBienUnivSede_DirectorBienestar1_idx` ON `mydb`.`DirBienUnivSede` (`directorBienestarID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Gerente`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Gerente` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Gerente` (
  `gerID` INT NOT NULL,
  `gerDependencia` VARCHAR(30) NOT NULL,
  `dirBienestarSedeID` INT NOT NULL,
  PRIMARY KEY (`gerID`),
  CONSTRAINT `fk_Gerente_Persona10`
    FOREIGN KEY (`gerID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Gerente_DirBienUnivSede1`
    FOREIGN KEY (`dirBienestarSedeID`)
    REFERENCES `mydb`.`DirBienUnivSede` (`dirBienSedeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Gerente_Persona1_idx` ON `mydb`.`Gerente` (`gerID` ASC) VISIBLE;

CREATE INDEX `fk_Gerente_DirBienUnivSede1_idx` ON `mydb`.`Gerente` (`dirBienestarSedeID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`RecGeneralBienUniv`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`RecGeneralBienUniv` ;

CREATE TABLE IF NOT EXISTS `mydb`.`RecGeneralBienUniv` (
  `docID` INT NOT NULL,
  `recGenBienPeriodo` INT NOT NULL,
  PRIMARY KEY (`docID`),
  CONSTRAINT `fk_Decano_Docente1000`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Decano_Docente1_idx` ON `mydb`.`RecGeneralBienUniv` (`docID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Vicerrector`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Vicerrector` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Vicerrector` (
  `docID` INT NOT NULL,
  `VicerrectorPeriodo` INT NOT NULL,
  `recGenID` INT NOT NULL,
  PRIMARY KEY (`docID`),
  CONSTRAINT `fk_Decano_Docente100`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Vicerrector_RecGeneralBienUniv1`
    FOREIGN KEY (`recGenID`)
    REFERENCES `mydb`.`RecGeneralBienUniv` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Decano_Docente1_idx` ON `mydb`.`Vicerrector` (`docID` ASC) VISIBLE;

CREATE INDEX `fk_Vicerrector_RecGeneralBienUniv1_idx` ON `mydb`.`Vicerrector` (`recGenID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`RepEmpFacultad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`RepEmpFacultad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`RepEmpFacultad` (
  `repEmpFacID` INT NOT NULL,
  `repEmpFacfacultad` VARCHAR(30) NOT NULL,
  PRIMARY KEY (`repEmpFacID`),
  CONSTRAINT `fk_Gerente_Persona1000`
    FOREIGN KEY (`repEmpFacID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Gerente_Persona1_idx` ON `mydb`.`RepEmpFacultad` (`repEmpFacID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ComAsesorBienUnivFacult`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ComAsesorBienUnivFacult` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ComAsesorBienUnivFacult` (
  `comAsesorBienUnID` INT NOT NULL,
  `dirBienUnivSedeID` INT NOT NULL,
  `comAsesorBienUnFacultad` VARCHAR(45) NOT NULL,
  `docID` INT NOT NULL,
  `repEmpFacID` INT NOT NULL,
  `directBienID` INT NOT NULL,
  PRIMARY KEY (`comAsesorBienUnID`),
  CONSTRAINT `fk_ComAsesorBienUnivFacult_Docente1`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComAsesorBienUnivFacult_RepresentanteEmpleadosFacultad1`
    FOREIGN KEY (`repEmpFacID`)
    REFERENCES `mydb`.`RepEmpFacultad` (`repEmpFacID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComAsesorBienUnivFacult_DirBienUnivSede1`
    FOREIGN KEY (`dirBienUnivSedeID`)
    REFERENCES `mydb`.`DirBienUnivSede` (`dirBienSedeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComAsesorBienUnivFacult_DirectorBienestar1`
    FOREIGN KEY (`directBienID`)
    REFERENCES `mydb`.`DirectorBienestar` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ComAsesorBienUnivFacult_Docente1_idx` ON `mydb`.`ComAsesorBienUnivFacult` (`docID` ASC) VISIBLE;

CREATE INDEX `fk_ComAsesorBienUnivFacult_RepresentanteEmpleadosFacultad1_idx` ON `mydb`.`ComAsesorBienUnivFacult` (`repEmpFacID` ASC) VISIBLE;

CREATE INDEX `fk_ComAsesorBienUnivFacult_DirBienUnivSede1_idx` ON `mydb`.`ComAsesorBienUnivFacult` (`dirBienUnivSedeID` ASC) VISIBLE;

CREATE INDEX `fk_ComAsesorBienUnivFacult_DirectorBienestar1_idx` ON `mydb`.`ComAsesorBienUnivFacult` (`directBienID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ReprEstudiantil`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ReprEstudiantil` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ReprEstudiantil` (
  `estID` INT NOT NULL,
  `repEstNivel` ENUM("PREGRADO", "POSGRADO") NOT NULL,
  `resEstConsejoBienestarID` INT NULL,
  `repEstArea` ENUM("CARRERA", "FACULTAD", "SEDE", "CONSEJO") NOT NULL,
  `comAsesorBienUnivFacID` INT NULL,
  `comitSedeDirectoresID` INT NOT NULL,
  PRIMARY KEY (`estID`),
  CONSTRAINT `fk_ReprEstudiantil_ConBieneUniv1`
    FOREIGN KEY (`resEstConsejoBienestarID`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ReprEstudiantil_Estudiante1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ReprEstudiantil_ComAsesorBienUnivFacult1`
    FOREIGN KEY (`comAsesorBienUnivFacID`)
    REFERENCES `mydb`.`ComAsesorBienUnivFacult` (`comAsesorBienUnID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ReprEstudiantil_ComitSedeDirectores1`
    FOREIGN KEY (`comitSedeDirectoresID`)
    REFERENCES `mydb`.`ComitSedeDirectores` (`comitSedeDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ReprEstudiantil_ConBieneUniv1_idx` ON `mydb`.`ReprEstudiantil` (`resEstConsejoBienestarID` ASC) VISIBLE;

CREATE INDEX `fk_ReprEstudiantil_Estudiante1_idx` ON `mydb`.`ReprEstudiantil` (`estID` ASC) VISIBLE;

CREATE INDEX `fk_ReprEstudiantil_ComAsesorBienUnivFacult1_idx` ON `mydb`.`ReprEstudiantil` (`comAsesorBienUnivFacID` ASC) VISIBLE;

CREATE INDEX `fk_ReprEstudiantil_ComitSedeDirectores1_idx` ON `mydb`.`ReprEstudiantil` (`comitSedeDirectoresID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ComitNacMatricula`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ComitNacMatricula` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ComitNacMatricula` (
  `comiNacDirectoresID` INT NOT NULL,
  `vicerrectorID` INT NOT NULL,
  `directorBienestarID` INT NOT NULL,
  `reprEstudiantilID` INT NOT NULL,
  PRIMARY KEY (`comiNacDirectoresID`),
  CONSTRAINT `fk_ComitNacMatricula_Vicerrector1`
    FOREIGN KEY (`vicerrectorID`)
    REFERENCES `mydb`.`Vicerrector` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComitNacMatricula_DirectorBienestar1`
    FOREIGN KEY (`directorBienestarID`)
    REFERENCES `mydb`.`DirectorBienestar` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ComitNacMatricula_ReprEstudiantil1`
    FOREIGN KEY (`reprEstudiantilID`)
    REFERENCES `mydb`.`ReprEstudiantil` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ComitNacMatricula_Vicerrector1_idx` ON `mydb`.`ComitNacMatricula` (`vicerrectorID` ASC) VISIBLE;

CREATE INDEX `fk_ComitNacMatricula_DirectorBienestar1_idx` ON `mydb`.`ComitNacMatricula` (`directorBienestarID` ASC) VISIBLE;

CREATE INDEX `fk_ComitNacMatricula_ReprEstudiantil1_idx` ON `mydb`.`ComitNacMatricula` (`reprEstudiantilID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ConBieneUniv`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ConBieneUniv` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ConBieneUniv` (
  `idConBieneUniv` INT NOT NULL,
  `conBienAnoCreacion` INT NOT NULL,
  `estEgresadoID` INT NOT NULL,
  `dirBienestarID` INT NOT NULL,
  `geNacFinanAdminID` INT NOT NULL,
  `vicerrectorID` INT NOT NULL,
  `comNacDirectoresID` INT NOT NULL,
  `comnacMatriculaID` INT NOT NULL,
  PRIMARY KEY (`idConBieneUniv`),
  CONSTRAINT `fk_ConBieneUniv_Gerente1`
    FOREIGN KEY (`geNacFinanAdminID`)
    REFERENCES `mydb`.`Gerente` (`gerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConBieneUniv_Vicerrector1`
    FOREIGN KEY (`vicerrectorID`)
    REFERENCES `mydb`.`Vicerrector` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConBieneUniv_ComiNacDirectores1`
    FOREIGN KEY (`comNacDirectoresID`)
    REFERENCES `mydb`.`ComitNacDirectores` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConBieneUniv_ComitNacMatricula1`
    FOREIGN KEY (`comnacMatriculaID`)
    REFERENCES `mydb`.`ComitNacMatricula` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConBieneUniv_Estudiante1`
    FOREIGN KEY (`estEgresadoID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConBieneUniv_DirectorBienestar1`
    FOREIGN KEY (`dirBienestarID`)
    REFERENCES `mydb`.`DirectorBienestar` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConBieneUniv_Gerente1_idx` ON `mydb`.`ConBieneUniv` (`geNacFinanAdminID` ASC) VISIBLE;

CREATE INDEX `fk_ConBieneUniv_Vicerrector1_idx` ON `mydb`.`ConBieneUniv` (`vicerrectorID` ASC) VISIBLE;

CREATE INDEX `fk_ConBieneUniv_ComiNacDirectores1_idx` ON `mydb`.`ConBieneUniv` (`comNacDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_ConBieneUniv_ComitNacMatricula1_idx` ON `mydb`.`ConBieneUniv` (`comnacMatriculaID` ASC) VISIBLE;

CREATE INDEX `fk_ConBieneUniv_Estudiante1_idx` ON `mydb`.`ConBieneUniv` (`estEgresadoID` ASC) VISIBLE;

CREATE INDEX `fk_ConBieneUniv_DirectorBienestar1_idx` ON `mydb`.`ConBieneUniv` (`dirBienestarID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Docente`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Docente` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Docente` (
  `docID` INT NOT NULL,
  `docTenerTarjeta` TINYINT NOT NULL,
  `docFacultad` VARCHAR(45) NOT NULL,
  `docEsRepprofesoral` TINYINT NOT NULL,
  `docEsDecano` TINYINT NOT NULL,
  `conBienestarUniv` INT NULL,
  `comitNacMatriculaID` INT NULL,
  PRIMARY KEY (`docID`),
  CONSTRAINT `fk_Docente/Administrativo_Persona1`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Docente_ConBieneUniv1`
    FOREIGN KEY (`conBienestarUniv`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Docente_ComitNacMatricula1`
    FOREIGN KEY (`comitNacMatriculaID`)
    REFERENCES `mydb`.`ComitNacMatricula` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Docente_ConBieneUniv1_idx` ON `mydb`.`Docente` (`conBienestarUniv` ASC) VISIBLE;

CREATE INDEX `fk_Docente_ComitNacMatricula1_idx` ON `mydb`.`Docente` (`comitNacMatriculaID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`PEAMA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PEAMA` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PEAMA` (
  `Estudiante_id` INT NOT NULL,
  `peaEtapa` TINYINT NOT NULL,
  PRIMARY KEY (`Estudiante_id`),
  CONSTRAINT `fk_PEAMA_Estudiante1`
    FOREIGN KEY (`Estudiante_id`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TarjetaPremiumPass`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`TarjetaPremiumPass` ;

CREATE TABLE IF NOT EXISTS `mydb`.`TarjetaPremiumPass` (
  `Docente_id` INT NOT NULL,
  `tarSaldo` INT NOT NULL,
  `tarActivada` BIT NOT NULL,
  PRIMARY KEY (`Docente_id`),
  CONSTRAINT `fk_table1_Docente1`
    FOREIGN KEY (`Docente_id`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Movimientos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Movimientos` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Movimientos` (
  `TarjetaPremiumPass_id` INT NOT NULL,
  `movFecha` DATETIME NOT NULL,
  `movEstablecimiento` VARCHAR(45) NOT NULL,
  `movMonto` INT NOT NULL,
  PRIMARY KEY (`TarjetaPremiumPass_id`),
  CONSTRAINT `fk_Movimientos_TarjetaPremiumPass1`
    FOREIGN KEY (`TarjetaPremiumPass_id`)
    REFERENCES `mydb`.`TarjetaPremiumPass` (`Docente_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Publicacion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Publicacion` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Publicacion` (
  `idPublicacion` INT NOT NULL,
  `pubTitulo` VARCHAR(45) NOT NULL,
  `pubFechaPublicacion` DATE NOT NULL,
  `pubTipo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idPublicacion`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PersonaEscribir`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PersonaEscribir` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PersonaEscribir` (
  `Persona_idPersona` INT NOT NULL,
  `Publicacion_idPublicacion` INT NOT NULL,
  PRIMARY KEY (`Persona_idPersona`, `Publicacion_idPublicacion`),
  CONSTRAINT `fk_Persona_has_Publicacion_Persona1`
    FOREIGN KEY (`Persona_idPersona`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Persona_has_Publicacion_Publicacion1`
    FOREIGN KEY (`Publicacion_idPublicacion`)
    REFERENCES `mydb`.`Publicacion` (`idPublicacion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Persona_has_Publicacion_Publicacion1_idx` ON `mydb`.`PersonaEscribir` (`Publicacion_idPublicacion` ASC) VISIBLE;

CREATE INDEX `fk_Persona_has_Publicacion_Persona1_idx` ON `mydb`.`PersonaEscribir` (`Persona_idPersona` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`JefeBienestar`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`JefeBienestar` ;

CREATE TABLE IF NOT EXISTS `mydb`.`JefeBienestar` (
  `jefID` INT NOT NULL,
  `jefDependencia` VARCHAR(30) NOT NULL,
  `jefEsJuridico` TINYINT NOT NULL,
  `jefEsPlaneacion` TINYINT NOT NULL,
  `gerenteID` INT NOT NULL,
  `comiNacDirectoresID` INT NOT NULL,
  `DirBienSedeID` INT NOT NULL,
  `comitNacMatriculaID` INT NULL,
  PRIMARY KEY (`jefID`),
  CONSTRAINT `fk_Gerente_Persona1`
    FOREIGN KEY (`jefID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Jefe Bienestar_Gerente1`
    FOREIGN KEY (`gerenteID`)
    REFERENCES `mydb`.`Gerente` (`gerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_JefeBienestar_ComiNacDirectores1`
    FOREIGN KEY (`comiNacDirectoresID`)
    REFERENCES `mydb`.`ComitNacDirectores` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_JefeBienestar_DirBienUnivSede1`
    FOREIGN KEY (`DirBienSedeID`)
    REFERENCES `mydb`.`DirBienUnivSede` (`dirBienSedeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_JefeBienestar_ComitNacMatricula2`
    FOREIGN KEY (`comitNacMatriculaID`)
    REFERENCES `mydb`.`ComitNacMatricula` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Gerente_Persona1_idx` ON `mydb`.`JefeBienestar` (`jefID` ASC) VISIBLE;

CREATE INDEX `fk_Jefe Bienestar_Gerente1_idx` ON `mydb`.`JefeBienestar` (`gerenteID` ASC) VISIBLE;

CREATE INDEX `fk_JefeBienestar_ComiNacDirectores1_idx` ON `mydb`.`JefeBienestar` (`comiNacDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_JefeBienestar_DirBienUnivSede1_idx` ON `mydb`.`JefeBienestar` (`DirBienSedeID` ASC) VISIBLE;

CREATE INDEX `fk_JefeBienestar_ComitNacMatricula2_idx` ON `mydb`.`JefeBienestar` (`comitNacMatriculaID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Funcionario`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Funcionario` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Funcionario` (
  `funID` INT NOT NULL,
  `funDependencia` VARCHAR(30) NOT NULL,
  `funRepEmpFacdPersona` INT NOT NULL,
  `funDirBienUnSedeID` INT NOT NULL,
  PRIMARY KEY (`funID`),
  CONSTRAINT `fk_Gerente_Persona100`
    FOREIGN KEY (`funID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Funcionario_Representante Empleados Facultad1`
    FOREIGN KEY (`funRepEmpFacdPersona`)
    REFERENCES `mydb`.`RepEmpFacultad` (`repEmpFacID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Funcionario_DirBienUnivSede1`
    FOREIGN KEY (`funDirBienUnSedeID`)
    REFERENCES `mydb`.`DirBienUnivSede` (`dirBienSedeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Gerente_Persona1_idx` ON `mydb`.`Funcionario` (`funID` ASC) VISIBLE;

CREATE INDEX `fk_Funcionario_Representante Empleados Facultad1_idx` ON `mydb`.`Funcionario` (`funRepEmpFacdPersona` ASC) VISIBLE;

CREATE INDEX `fk_Funcionario_DirBienUnivSede1_idx` ON `mydb`.`Funcionario` (`funDirBienUnSedeID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`DirAcademico`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DirAcademico` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DirAcademico` (
  `docID` INT NOT NULL,
  `comitSedeDirectoresID` INT NOT NULL,
  PRIMARY KEY (`docID`),
  CONSTRAINT `fk_Decano_Docente100000`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DirAcademico_ComitSedeDirectores1`
    FOREIGN KEY (`comitSedeDirectoresID`)
    REFERENCES `mydb`.`ComitSedeDirectores` (`comitSedeDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Decano_Docente1_idx` ON `mydb`.`DirAcademico` (`docID` ASC) VISIBLE;

CREATE INDEX `fk_DirAcademico_ComitSedeDirectores1_idx` ON `mydb`.`DirAcademico` (`comitSedeDirectoresID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Normatividad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Normatividad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Normatividad` (
  `normID` INT NOT NULL,
  `conBieneID` INT NULL,
  `comiNacDirectoresID` INT NULL,
  `comitSedeDirectoresID` INT NULL,
  `comitNacMatriculaID` INT NULL,
  `norDescripcion` VARCHAR(45) NOT NULL,
  `norTipo` VARCHAR(15) NOT NULL,
  `norAño` TINYINT NOT NULL,
  `norNumero` TINYINT NOT NULL,
  `norFechaEntradaVigencia` DATE NOT NULL,
  `norLink` VARCHAR(60) NOT NULL,
  PRIMARY KEY (`normID`),
  CONSTRAINT `fk_Normatividad_ConBieneUniv1`
    FOREIGN KEY (`conBieneID`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Normatividad_ComiNacDirectores1`
    FOREIGN KEY (`comiNacDirectoresID`)
    REFERENCES `mydb`.`ComitNacDirectores` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Normatividad_ComitSedeDirectores1`
    FOREIGN KEY (`comitSedeDirectoresID`)
    REFERENCES `mydb`.`ComitSedeDirectores` (`comitSedeDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Normatividad_ComitNacMatricula1`
    FOREIGN KEY (`comitNacMatriculaID`)
    REFERENCES `mydb`.`ComitNacMatricula` (`comiNacDirectoresID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Normatividad_ConBieneUniv1_idx` ON `mydb`.`Normatividad` (`conBieneID` ASC) VISIBLE;

CREATE INDEX `fk_Normatividad_ComiNacDirectores1_idx` ON `mydb`.`Normatividad` (`comiNacDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_Normatividad_ComitSedeDirectores1_idx` ON `mydb`.`Normatividad` (`comitSedeDirectoresID` ASC) VISIBLE;

CREATE INDEX `fk_Normatividad_ComitNacMatricula1_idx` ON `mydb`.`Normatividad` (`comitNacMatriculaID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`DirBienUnivSede_has_Normatividad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DirBienUnivSede_has_Normatividad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DirBienUnivSede_has_Normatividad` (
  `dirBienUnivSedeID` INT NOT NULL,
  `normID` INT NOT NULL,
  PRIMARY KEY (`dirBienUnivSedeID`, `normID`),
  CONSTRAINT `fk_DirBienUnivSede_has_Normatividad_DirBienUnivSede1`
    FOREIGN KEY (`dirBienUnivSedeID`)
    REFERENCES `mydb`.`DirBienUnivSede` (`dirBienSedeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DirBienUnivSede_has_Normatividad_Normatividad1`
    FOREIGN KEY (`normID`)
    REFERENCES `mydb`.`Normatividad` (`normID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_DirBienUnivSede_has_Normatividad_Normatividad1_idx` ON `mydb`.`DirBienUnivSede_has_Normatividad` (`normID` ASC) VISIBLE;

CREATE INDEX `fk_DirBienUnivSede_has_Normatividad_DirBienUnivSede1_idx` ON `mydb`.`DirBienUnivSede_has_Normatividad` (`dirBienUnivSedeID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Normatividad_has_ComAsesorBienUnivFacult`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Normatividad_has_ComAsesorBienUnivFacult` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Normatividad_has_ComAsesorBienUnivFacult` (
  `normID` INT NOT NULL,
  `comAsesorBienUnivFacultID` INT NOT NULL,
  PRIMARY KEY (`normID`, `comAsesorBienUnivFacultID`),
  CONSTRAINT `fk_Normatividad_has_ComAsesorBienUnivFacult_Normatividad1`
    FOREIGN KEY (`normID`)
    REFERENCES `mydb`.`Normatividad` (`normID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Normatividad_has_ComAsesorBienUnivFacult_ComAsesorBienUniv1`
    FOREIGN KEY (`comAsesorBienUnivFacultID`)
    REFERENCES `mydb`.`ComAsesorBienUnivFacult` (`comAsesorBienUnID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Normatividad_has_ComAsesorBienUnivFacult_ComAsesorBienUn_idx` ON `mydb`.`Normatividad_has_ComAsesorBienUnivFacult` (`comAsesorBienUnivFacultID` ASC) VISIBLE;

CREATE INDEX `fk_Normatividad_has_ComAsesorBienUnivFacult_Normatividad1_idx` ON `mydb`.`Normatividad_has_ComAsesorBienUnivFacult` (`normID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`EventoCultural`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`EventoCultural` ;

CREATE TABLE IF NOT EXISTS `mydb`.`EventoCultural` (
  `eveCulID` INT NOT NULL,
  `eveCulNombre` VARCHAR(50) NOT NULL,
  `eveCulLugar` VARCHAR(45) NOT NULL,
  `eveCulFecha` DATE NOT NULL,
  `eveCulhorInicio` TIME NOT NULL,
  `eveCulhorFin` TIME NOT NULL,
  `eveCulTipo` ENUM("Evento", "Actividad Lúdica", "Instrucción", "Promoción Interculturalidad", "Expresión Talentos") NOT NULL,
  `eveCulDescripcion` VARCHAR(60) NOT NULL,
  PRIMARY KEY (`eveCulID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`perGestionaEveCul`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`perGestionaEveCul` ;

CREATE TABLE IF NOT EXISTS `mydb`.`perGestionaEveCul` (
  `eveCulID` INT NOT NULL,
  `perID` INT NOT NULL,
  `gestEveCulCargo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`eveCulID`, `perID`),
  CONSTRAINT `fk_EventoCultural_has_Persona_EventoCultural1`
    FOREIGN KEY (`eveCulID`)
    REFERENCES `mydb`.`EventoCultural` (`eveCulID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EventoCultural_has_Persona_Persona1`
    FOREIGN KEY (`perID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_EventoCultural_has_Persona_Persona1_idx` ON `mydb`.`perGestionaEveCul` (`perID` ASC) VISIBLE;

CREATE INDEX `fk_EventoCultural_has_Persona_EventoCultural1_idx` ON `mydb`.`perGestionaEveCul` (`eveCulID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`perAsisteEveCul`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`perAsisteEveCul` ;

CREATE TABLE IF NOT EXISTS `mydb`.`perAsisteEveCul` (
  `eveCulID` INT NOT NULL,
  `perID` INT NOT NULL,
  `asiEveCulComentario` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`eveCulID`, `perID`),
  CONSTRAINT `fk_EventoCultural_has_Persona_EventoCultural2`
    FOREIGN KEY (`eveCulID`)
    REFERENCES `mydb`.`EventoCultural` (`eveCulID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EventoCultural_has_Persona_Persona2`
    FOREIGN KEY (`perID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_EventoCultural_has_Persona_Persona2_idx` ON `mydb`.`perAsisteEveCul` (`perID` ASC) VISIBLE;

CREATE INDEX `fk_EventoCultural_has_Persona_EventoCultural2_idx` ON `mydb`.`perAsisteEveCul` (`eveCulID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`perParticipaEveCul`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`perParticipaEveCul` ;

CREATE TABLE IF NOT EXISTS `mydb`.`perParticipaEveCul` (
  `eveCulID` INT NOT NULL,
  `perID` INT NOT NULL,
  `partEveCulTalento` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`eveCulID`, `perID`),
  CONSTRAINT `fk_EventoCultural_has_Persona_EventoCultural3`
    FOREIGN KEY (`eveCulID`)
    REFERENCES `mydb`.`EventoCultural` (`eveCulID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EventoCultural_has_Persona_Persona3`
    FOREIGN KEY (`perID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_EventoCultural_has_Persona_Persona3_idx` ON `mydb`.`perParticipaEveCul` (`perID` ASC) VISIBLE;

CREATE INDEX `fk_EventoCultural_has_Persona_EventoCultural3_idx` ON `mydb`.`perParticipaEveCul` (`eveCulID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ConvGAI`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ConvGAI` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ConvGAI` (
  `convGaiID` INT NOT NULL,
  `convGaiNombre` VARCHAR(50) NOT NULL,
  `convGaiDisciplina` VARCHAR(45) NOT NULL,
  `docID` INT NOT NULL,
  PRIMARY KEY (`convGaiID`),
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_Docente1`
    FOREIGN KEY (`docID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_Docente1_idx` ON `mydb`.`ConvGAI` (`docID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`gaiTieneActividad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`gaiTieneActividad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`gaiTieneActividad` (
  `convGaiID` INT NOT NULL,
  `actividadID` INT NOT NULL,
  PRIMARY KEY (`convGaiID`, `actividadID`),
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Actividad_ConvocGAI (GrArtInst)1`
    FOREIGN KEY (`convGaiID`)
    REFERENCES `mydb`.`ConvGAI` (`convGaiID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Actividad_Actividad1`
    FOREIGN KEY (`actividadID`)
    REFERENCES `mydb`.`Actividad` (`idActividad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Actividad_Actividad1_idx` ON `mydb`.`gaiTieneActividad` (`actividadID` ASC) VISIBLE;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Actividad_ConvocGAI (GrArtInst_idx` ON `mydb`.`gaiTieneActividad` (`convGaiID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`GaiTieneAspirante`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GaiTieneAspirante` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GaiTieneAspirante` (
  `convGaiID` INT NOT NULL,
  `estID` INT NOT NULL,
  `convGaiTalento` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`convGaiID`, `estID`),
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Estudiante_ConvocGAI (GrArtInst)1`
    FOREIGN KEY (`convGaiID`)
    REFERENCES `mydb`.`ConvGAI` (`convGaiID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Estudiante_Estudiante1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Estudiante_Estudiante1_idx` ON `mydb`.`GaiTieneAspirante` (`estID` ASC) VISIBLE;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Estudiante_ConvocGAI (GrArtIns_idx` ON `mydb`.`GaiTieneAspirante` (`convGaiID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`gaiTieneEstudiante`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`gaiTieneEstudiante` ;

CREATE TABLE IF NOT EXISTS `mydb`.`gaiTieneEstudiante` (
  `convGaiID` INT NOT NULL,
  `estID` INT NOT NULL,
  `GaiActividadFecha` DATE NOT NULL,
  PRIMARY KEY (`convGaiID`, `estID`),
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Estudiante_ConvocGAI (GrArtInst)2`
    FOREIGN KEY (`convGaiID`)
    REFERENCES `mydb`.`ConvGAI` (`convGaiID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConvocGAI (GrArtInst)_has_Estudiante_Estudiante2`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Estudiante_Estudiante2_idx` ON `mydb`.`gaiTieneEstudiante` (`estID` ASC) VISIBLE;

CREATE INDEX `fk_ConvocGAI (GrArtInst)_has_Estudiante_ConvocGAI (GrArtIns_idx` ON `mydb`.`gaiTieneEstudiante` (`convGaiID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Producto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Producto` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Producto` (
  `prodID` INT NOT NULL,
  `prodPrecio` DOUBLE NOT NULL,
  `prodDetalle` VARCHAR(45) NOT NULL,
  `prodTotalVendido` DOUBLE NOT NULL,
  PRIMARY KEY (`prodID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`tiendBienOfrProd`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`tiendBienOfrProd` ;

CREATE TABLE IF NOT EXISTS `mydb`.`tiendBienOfrProd` (
  `prodID` INT NOT NULL,
  `TiendaBienestarUN_idTiendaBienestarUN` INT NOT NULL,
  `ofrDescuento` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`prodID`, `TiendaBienestarUN_idTiendaBienestarUN`),
  CONSTRAINT `fk_Producto_has_TiendaBienestarUN_Producto1`
    FOREIGN KEY (`prodID`)
    REFERENCES `mydb`.`Producto` (`prodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Producto_has_TiendaBienestarUN_TiendaBienestarUN1`
    FOREIGN KEY (`TiendaBienestarUN_idTiendaBienestarUN`)
    REFERENCES `mydb`.`TiendaBienestarUN` (`tiendBienID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Producto_has_TiendaBienestarUN_TiendaBienestarUN1_idx` ON `mydb`.`tiendBienOfrProd` (`TiendaBienestarUN_idTiendaBienestarUN` ASC) VISIBLE;

CREATE INDEX `fk_Producto_has_TiendaBienestarUN_Producto1_idx` ON `mydb`.`tiendBienOfrProd` (`prodID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Factura`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Factura` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Factura` (
  `factID` INT NOT NULL,
  `factFecha` DATE NOT NULL,
  `factHora` TIME NOT NULL,
  `factDetalle` VARCHAR(50) NOT NULL,
  `tiendBienestarID` INT NOT NULL,
  `clientePerID` INT NOT NULL,
  PRIMARY KEY (`factID`),
  CONSTRAINT `fk_Factura_TiendaBienestarUN1`
    FOREIGN KEY (`tiendBienestarID`)
    REFERENCES `mydb`.`TiendaBienestarUN` (`tiendBienID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Factura_Persona1`
    FOREIGN KEY (`clientePerID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Factura_TiendaBienestarUN1_idx` ON `mydb`.`Factura` (`tiendBienestarID` ASC) VISIBLE;

CREATE INDEX `fk_Factura_Persona1_idx` ON `mydb`.`Factura` (`clientePerID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`FacVendProd`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`FacVendProd` ;

CREATE TABLE IF NOT EXISTS `mydb`.`FacVendProd` (
  `factID` INT NOT NULL,
  `prodID` INT NOT NULL,
  PRIMARY KEY (`factID`, `prodID`),
  CONSTRAINT `fk_Factura_has_Producto_Factura1`
    FOREIGN KEY (`factID`)
    REFERENCES `mydb`.`Factura` (`factID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Factura_has_Producto_Producto1`
    FOREIGN KEY (`prodID`)
    REFERENCES `mydb`.`Producto` (`prodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Factura_has_Producto_Producto1_idx` ON `mydb`.`FacVendProd` (`prodID` ASC) VISIBLE;

CREATE INDEX `fk_Factura_has_Producto_Factura1_idx` ON `mydb`.`FacVendProd` (`factID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`GestionEconomica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GestionEconomica` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GestionEconomica` (
  `gesEconoID` INT NOT NULL,
  `gesEconoPlazo` INT NOT NULL,
  `estID` INT NOT NULL,
  PRIMARY KEY (`gesEconoID`, `estID`),
  CONSTRAINT `fk_GestionEconomica_Estudiante1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_GestionEconomica_Estudiante1_idx` ON `mydb`.`GestionEconomica` (`estID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`AuxilioEconomico`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AuxilioEconomico` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AuxilioEconomico` (
  `auxEconID` INT NOT NULL,
  `auxEconMonto` DOUBLE NOT NULL,
  `auxEconHorCorrespon` INT NOT NULL,
  PRIMARY KEY (`auxEconID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`GestionAlojamiento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GestionAlojamiento` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GestionAlojamiento` (
  `gesAlojID` INT NOT NULL,
  `gesAlojDireccion` VARCHAR(55) NOT NULL,
  `gesAlojMonto` DOUBLE NOT NULL,
  `gesAlojHorCorrespon` INT NOT NULL,
  PRIMARY KEY (`gesAlojID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`GestionTransporte`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GestionTransporte` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GestionTransporte` (
  `gesTranID` INT NOT NULL,
  `gesTranMonto` DOUBLE NOT NULL,
  `gesTranHorCorrespon` INT NOT NULL,
  PRIMARY KEY (`gesTranID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FomentoEmprendimiento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`FomentoEmprendimiento` ;

CREATE TABLE IF NOT EXISTS `mydb`.`FomentoEmprendimiento` (
  `fomEmpID` INT NOT NULL,
  `fomEmpNombre` VARCHAR(50) NOT NULL,
  `fomEmpAreAcademica` VARCHAR(30) NOT NULL,
  `fomEmpTema` VARCHAR(30) NOT NULL,
  `fomEmpDescripcion` VARCHAR(60) NOT NULL,
  `liderEstID` INT NOT NULL,
  `liderDocID` INT NOT NULL,
  `fomEmpMonto` DOUBLE NOT NULL,
  PRIMARY KEY (`fomEmpID`),
  CONSTRAINT `fk_FomentoEmprendimiento_Estudiante1`
    FOREIGN KEY (`liderEstID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FomentoEmprendimiento_Docente1`
    FOREIGN KEY (`liderDocID`)
    REFERENCES `mydb`.`Docente` (`docID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_FomentoEmprendimiento_Estudiante1_idx` ON `mydb`.`FomentoEmprendimiento` (`liderEstID` ASC) VISIBLE;

CREATE INDEX `fk_FomentoEmprendimiento_Docente1_idx` ON `mydb`.`FomentoEmprendimiento` (`liderDocID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Corresponsabilidad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Corresponsabilidad` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Corresponsabilidad` (
  `correspID` INT NOT NULL,
  `correspFecSolicitud` DATE NOT NULL,
  `correspFecLimCumplir` DATE NOT NULL,
  `correspHorAsignadas` INT NOT NULL,
  `correspHorRealizadas` INT NOT NULL,
  `gesEconID` INT NOT NULL,
  `auxEconID` INT NULL,
  `gesAlojID` INT NULL,
  `gesTranID` INT NULL,
  `fomEmpID` INT NULL,
  PRIMARY KEY (`correspID`, `gesEconID`),
  CONSTRAINT `fk_Corresponsabilidad_GestionEconomica1`
    FOREIGN KEY (`gesEconID`)
    REFERENCES `mydb`.`GestionEconomica` (`gesEconoID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Corresponsabilidad_AuxilioEconomico1`
    FOREIGN KEY (`auxEconID`)
    REFERENCES `mydb`.`AuxilioEconomico` (`auxEconID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Corresponsabilidad_GestionAlojamiento1`
    FOREIGN KEY (`gesAlojID`)
    REFERENCES `mydb`.`GestionAlojamiento` (`gesAlojID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Corresponsabilidad_GestionTransporte1`
    FOREIGN KEY (`gesTranID`)
    REFERENCES `mydb`.`GestionTransporte` (`gesTranID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Corresponsabilidad_FomentoEmprendimiento1`
    FOREIGN KEY (`fomEmpID`)
    REFERENCES `mydb`.`FomentoEmprendimiento` (`fomEmpID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Corresponsabilidad_GestionEconomica1_idx` ON `mydb`.`Corresponsabilidad` (`gesEconID` ASC) VISIBLE;

CREATE INDEX `fk_Corresponsabilidad_AuxilioEconomico1_idx` ON `mydb`.`Corresponsabilidad` (`auxEconID` ASC) VISIBLE;

CREATE INDEX `fk_Corresponsabilidad_GestionAlojamiento1_idx` ON `mydb`.`Corresponsabilidad` (`gesAlojID` ASC) VISIBLE;

CREATE INDEX `fk_Corresponsabilidad_GestionTransporte1_idx` ON `mydb`.`Corresponsabilidad` (`gesTranID` ASC) VISIBLE;

CREATE INDEX `fk_Corresponsabilidad_FomentoEmprendimiento1_idx` ON `mydb`.`Corresponsabilidad` (`fomEmpID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`HoraRealizada`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`HoraRealizada` ;

CREATE TABLE IF NOT EXISTS `mydb`.`HoraRealizada` (
  `horRealID` INT NOT NULL,
  `horRealLugar` VARCHAR(30) NOT NULL,
  `horRealFecha` DATE NOT NULL,
  `horRealActRealizada` VARCHAR(50) NOT NULL,
  `correspID` INT NOT NULL,
  `auditorID` INT NOT NULL,
  PRIMARY KEY (`horRealID`, `correspID`),
  CONSTRAINT `fk_HoraRealizada_Corresponsabilidad1`
    FOREIGN KEY (`correspID`)
    REFERENCES `mydb`.`Corresponsabilidad` (`correspID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_HoraRealizada_Persona1`
    FOREIGN KEY (`auditorID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_HoraRealizada_Corresponsabilidad1_idx` ON `mydb`.`HoraRealizada` (`correspID` ASC) VISIBLE;

CREATE INDEX `fk_HoraRealizada_Persona1_idx` ON `mydb`.`HoraRealizada` (`auditorID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`GestionAlimentaria`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GestionAlimentaria` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GestionAlimentaria` (
  `gesAlimID` INT NOT NULL,
  `gesAlimComedor` VARCHAR(10) NOT NULL,
  `gesAlimDescuento` INT NOT NULL,
  `gesAlimHorCorrespon` INT NOT NULL,
  `gesAlimBeneficio` ENUM("DESAYUNO", "ALMUERZO", "CENA") NOT NULL,
  PRIMARY KEY (`gesAlimID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`GesAlimHasCorresp`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`GesAlimHasCorresp` ;

CREATE TABLE IF NOT EXISTS `mydb`.`GesAlimHasCorresp` (
  `gesAlimID` INT NOT NULL,
  `correspID` INT NOT NULL,
  `desEconID` INT NOT NULL,
  PRIMARY KEY (`gesAlimID`, `correspID`, `desEconID`),
  CONSTRAINT `fk_GestionAlimentaria_has_Corresponsabilidad_GestionAlimentar1`
    FOREIGN KEY (`gesAlimID`)
    REFERENCES `mydb`.`GestionAlimentaria` (`gesAlimID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GestionAlimentaria_has_Corresponsabilidad_Corresponsabilid1`
    FOREIGN KEY (`correspID` , `desEconID`)
    REFERENCES `mydb`.`Corresponsabilidad` (`correspID` , `gesEconID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_GestionAlimentaria_has_Corresponsabilidad_Corresponsabil_idx` ON `mydb`.`GesAlimHasCorresp` (`correspID` ASC, `desEconID` ASC) VISIBLE;

CREATE INDEX `fk_GestionAlimentaria_has_Corresponsabilidad_GestionAliment_idx` ON `mydb`.`GesAlimHasCorresp` (`gesAlimID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`FallaAmilentacion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`FallaAmilentacion` ;

CREATE TABLE IF NOT EXISTS `mydb`.`FallaAmilentacion` (
  `fallAlimID` INT NOT NULL,
  `fallAlimFecha` DATE NOT NULL,
  `fallAlimBeneficio` ENUM("DESAYUNO", "ALMUERZO", "CENA") NOT NULL,
  `destAlim_has_Corr` INT NOT NULL,
  `correspID` INT NOT NULL,
  `gesEconID` INT NOT NULL,
  PRIMARY KEY (`fallAlimID`, `destAlim_has_Corr`, `correspID`, `gesEconID`),
  CONSTRAINT `fk_FallaAmilentacion_GestionAlimentaria_has_Corresponsabilidad1`
    FOREIGN KEY (`destAlim_has_Corr` , `correspID` , `gesEconID`)
    REFERENCES `mydb`.`GesAlimHasCorresp` (`gesAlimID` , `correspID` , `desEconID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_FallaAmilentacion_GestionAlimentaria_has_Corresponsabili_idx` ON `mydb`.`FallaAmilentacion` (`destAlim_has_Corr` ASC, `correspID` ASC, `gesEconID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`estFormaEquipoFomEmp`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`estFormaEquipoFomEmp` ;

CREATE TABLE IF NOT EXISTS `mydb`.`estFormaEquipoFomEmp` (
  `FomentoEmprendimiento_idFomEmprende` INT NOT NULL,
  `estID` INT NOT NULL,
  `estRol` VARCHAR(20) NULL,
  PRIMARY KEY (`FomentoEmprendimiento_idFomEmprende`, `estID`),
  CONSTRAINT `fk_FomentoEmprendimiento_has_Estudiante_FomentoEmprendimiento1`
    FOREIGN KEY (`FomentoEmprendimiento_idFomEmprende`)
    REFERENCES `mydb`.`FomentoEmprendimiento` (`fomEmpID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FomentoEmprendimiento_has_Estudiante_Estudiante1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_FomentoEmprendimiento_has_Estudiante_Estudiante1_idx` ON `mydb`.`estFormaEquipoFomEmp` (`estID` ASC) VISIBLE;

CREATE INDEX `fk_FomentoEmprendimiento_has_Estudiante_FomentoEmprendimien_idx` ON `mydb`.`estFormaEquipoFomEmp` (`FomentoEmprendimiento_idFomEmprende` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`AlianzasEstrategicas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AlianzasEstrategicas` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AlianzasEstrategicas` (
  `aliEstID` INT NOT NULL,
  `aliEstNombre` VARCHAR(40) NOT NULL,
  `aliEstEntidad` VARCHAR(50) NOT NULL,
  `aliEstEstado` ENUM("ACTIVO", "NO ACTIVO") NOT NULL,
  `aliEstDescripcion` VARCHAR(55) NOT NULL,
  `ConBieneUnivID` INT NOT NULL,
  PRIMARY KEY (`aliEstID`),
  CONSTRAINT `fk_AlianzasEstrategicas_ConBieneUniv1`
    FOREIGN KEY (`ConBieneUnivID`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_AlianzasEstrategicas_ConBieneUniv1_idx` ON `mydb`.`AlianzasEstrategicas` (`ConBieneUnivID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Programa`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Programa` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Programa` (
  `progNombre` VARCHAR(70) NOT NULL,
  `progExtension` INT NULL,
  `progCorreoElectronico` VARCHAR(60) NULL,
  PRIMARY KEY (`progNombre`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TorneoInterno`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`TorneoInterno` ;

CREATE TABLE IF NOT EXISTS `mydb`.`TorneoInterno` (
  `toridTorneoInterno` INT NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  `torPeriodo` VARCHAR(10) NOT NULL,
  `torSede/Facultad` VARCHAR(60) NOT NULL,
  `torDeporte` VARCHAR(35) NOT NULL,
  `torNombreTorneo` VARCHAR(90) NOT NULL,
  `torEstado` TINYINT NOT NULL,
  `torModalidad` VARCHAR(45) NULL,
  `torRama` VARCHAR(45) NOT NULL,
  `torNivel` VARCHAR(45) NULL,
  `torFechaInicio` DATE NOT NULL,
  `torFechaFinalizacion` DATE NOT NULL,
  PRIMARY KEY (`toridTorneoInterno`, `Programa_progNombre`),
  CONSTRAINT `fk_TorneoInterno_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TorneoInterno_Programa1_idx` ON `mydb`.`TorneoInterno` (`Programa_progNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`CursoLibre`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CursoLibre` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CursoLibre` (
  `cursidCursoLibre` INT NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  `curNombre` VARCHAR(45) NOT NULL,
  `curTipoCurso` VARCHAR(45) NOT NULL,
  `curPeriodo` VARCHAR(30) NOT NULL,
  `curCondicion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`cursidCursoLibre`, `Programa_progNombre`),
  CONSTRAINT `fk_CursoLibre_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_CursoLibre_Programa1_idx` ON `mydb`.`CursoLibre` (`Programa_progNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`ConvocatoriaSeleccion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ConvocatoriaSeleccion` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ConvocatoriaSeleccion` (
  `convidConvocatoriaSeleccion` INT NOT NULL,
  `convDeporte` VARCHAR(45) NOT NULL,
  `convFecha` DATETIME(20) NOT NULL,
  `convLugar` VARCHAR(50) NOT NULL,
  `convHora` TIME NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  PRIMARY KEY (`convidConvocatoriaSeleccion`, `Programa_progNombre`),
  CONSTRAINT `fk_ConcocatoriaSelección_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConcocatoriaSelección_Programa1_idx` ON `mydb`.`ConvocatoriaSeleccion` (`Programa_progNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Evento/Taller`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Evento/Taller` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Evento/Taller` (
  `evetaidEvento/Taller` INT NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  `evetaNombre` VARCHAR(60) NOT NULL,
  `evetaTipo Evento/Taller` VARCHAR(45) NOT NULL,
  `eveDescripcion` LONGTEXT NOT NULL,
  PRIMARY KEY (`evetaidEvento/Taller`, `Programa_progNombre`),
  CONSTRAINT `fk_Evento/Taller_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Evento/Taller_Programa1_idx` ON `mydb`.`Evento/Taller` (`Programa_progNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Proyecto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Proyecto` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Proyecto` (
  `proyIdProyecto` INT NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  `proyNombre` VARCHAR(60) NOT NULL,
  `proyEjecucion` DECIMAL NOT NULL,
  `proyFechaInicio` DATE NOT NULL,
  `proyFechaFinalizacion` DATE NOT NULL,
  `proyPresupuesto` VARCHAR(1000) NOT NULL,
  PRIMARY KEY (`proyIdProyecto`, `Programa_progNombre`),
  CONSTRAINT `fk_Proyecto_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Proyecto_Programa1_idx` ON `mydb`.`Proyecto` (`Programa_progNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Contacto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Contacto` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Contacto` (
  `NombreÁrea` VARCHAR(90) NOT NULL,
  `contNombre` VARCHAR(60) NOT NULL,
  `contTelefono` INT NOT NULL,
  `contExtension` INT NOT NULL,
  `contEmail` VARCHAR(50) NOT NULL,
  `conBieneID` INT NULL,
  PRIMARY KEY (`NombreÁrea`),
  CONSTRAINT `fk_Contacto_ConBieneUniv1`
    FOREIGN KEY (`conBieneID`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Contacto_ConBieneUniv1_idx` ON `mydb`.`Contacto` (`conBieneID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Anexo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Anexo` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Anexo` (
  `anexoID` INT NOT NULL,
  `Normatividad_id` INT NOT NULL,
  `aneNombre` VARCHAR(45) NOT NULL,
  `aneLink` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`anexoID`),
  CONSTRAINT `fk_Anexos_Normatividad1`
    FOREIGN KEY (`Normatividad_id`)
    REFERENCES `mydb`.`Normatividad` (`normID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Anexos_Normatividad1_idx` ON `mydb`.`Anexo` (`Normatividad_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`estTieneRepEst`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`estTieneRepEst` ;

CREATE TABLE IF NOT EXISTS `mydb`.`estTieneRepEst` (
  `estID` INT NOT NULL,
  `reprEstudID` INT NOT NULL,
  PRIMARY KEY (`estID`, `reprEstudID`),
  CONSTRAINT `fk_Estudiante_has_ReprEstudiantil_Estudiante1`
    FOREIGN KEY (`estID`)
    REFERENCES `mydb`.`Estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_estTieneRepEst_ReprEstudiantil1`
    FOREIGN KEY (`reprEstudID`)
    REFERENCES `mydb`.`ReprEstudiantil` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Estudiante_has_ReprEstudiantil_Estudiante1_idx` ON `mydb`.`estTieneRepEst` (`estID` ASC) VISIBLE;

CREATE INDEX `fk_estTieneRepEst_ReprEstudiantil1_idx` ON `mydb`.`estTieneRepEst` (`reprEstudID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`Area_ofrece_Programa`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Area_ofrece_Programa` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Area_ofrece_Programa` (
  `Area_areNombre` VARCHAR(100) NOT NULL,
  `Programa_progNombre` VARCHAR(70) NOT NULL,
  PRIMARY KEY (`Area_areNombre`, `Programa_progNombre`),
  CONSTRAINT `fk_Área_has_Programa_Área1`
    FOREIGN KEY (`Area_areNombre`)
    REFERENCES `mydb`.`Area` (`areNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Área_has_Programa_Programa1`
    FOREIGN KEY (`Programa_progNombre`)
    REFERENCES `mydb`.`Programa` (`progNombre`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Área_has_Programa_Programa1_idx` ON `mydb`.`Area_ofrece_Programa` (`Programa_progNombre` ASC) VISIBLE;

CREATE INDEX `fk_Área_has_Programa_Área1_idx` ON `mydb`.`Area_ofrece_Programa` (`Area_areNombre` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`AntencionEnSalud`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AntencionEnSalud` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AntencionEnSalud` (
  `Persona_id` INT NOT NULL,
  `ateFecha` DATETIME NOT NULL,
  `ateSoporteDireccion` VARCHAR(32) NOT NULL,
  `ateVerificado` BIT NOT NULL,
  CONSTRAINT `fk_table1_Persona1`
    FOREIGN KEY (`Persona_id`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_table1_Persona1_idx` ON `mydb`.`AntencionEnSalud` (`Persona_id` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`TiendaBienestarUN_has_ConBieneUniv`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`TiendaBienestarUN_has_ConBieneUniv` ;

CREATE TABLE IF NOT EXISTS `mydb`.`TiendaBienestarUN_has_ConBieneUniv` (
  `TiendaBienestarUN_tiendBienID` INT NOT NULL,
  `ConBieneUniv_idConBieneUniv` INT NOT NULL,
  PRIMARY KEY (`TiendaBienestarUN_tiendBienID`, `ConBieneUniv_idConBieneUniv`),
  CONSTRAINT `fk_TiendaBienestarUN_has_ConBieneUniv_TiendaBienestarUN1`
    FOREIGN KEY (`TiendaBienestarUN_tiendBienID`)
    REFERENCES `mydb`.`TiendaBienestarUN` (`tiendBienID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TiendaBienestarUN_has_ConBieneUniv_ConBieneUniv1`
    FOREIGN KEY (`ConBieneUniv_idConBieneUniv`)
    REFERENCES `mydb`.`ConBieneUniv` (`idConBieneUniv`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TiendaBienestarUN_has_ConBieneUniv_ConBieneUniv1_idx` ON `mydb`.`TiendaBienestarUN_has_ConBieneUniv` (`ConBieneUniv_idConBieneUniv` ASC) VISIBLE;

CREATE INDEX `fk_TiendaBienestarUN_has_ConBieneUniv_TiendaBienestarUN1_idx` ON `mydb`.`TiendaBienestarUN_has_ConBieneUniv` (`TiendaBienestarUN_tiendBienID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`TiendaBienestarUN_has_Persona`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`TiendaBienestarUN_has_Persona` ;

CREATE TABLE IF NOT EXISTS `mydb`.`TiendaBienestarUN_has_Persona` (
  `TiendaBienestarUN_tiendBienID` INT NOT NULL,
  `Persona_perID` INT NOT NULL,
  `rolPersonaTienda` ENUM('coordinador', 'director', 'empleado', 'otro') NOT NULL,
  PRIMARY KEY (`TiendaBienestarUN_tiendBienID`, `Persona_perID`),
  CONSTRAINT `fk_TiendaBienestarUN_has_Persona_TiendaBienestarUN1`
    FOREIGN KEY (`TiendaBienestarUN_tiendBienID`)
    REFERENCES `mydb`.`TiendaBienestarUN` (`tiendBienID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TiendaBienestarUN_has_Persona_Persona1`
    FOREIGN KEY (`Persona_perID`)
    REFERENCES `mydb`.`Persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TiendaBienestarUN_has_Persona_Persona1_idx` ON `mydb`.`TiendaBienestarUN_has_Persona` (`Persona_perID` ASC) VISIBLE;

CREATE INDEX `fk_TiendaBienestarUN_has_Persona_TiendaBienestarUN1_idx` ON `mydb`.`TiendaBienestarUN_has_Persona` (`TiendaBienestarUN_tiendBienID` ASC) VISIBLE;

USE `mydb` ;

-- -----------------------------------------------------
-- Placeholder table for view `mydb`.`view1`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`view1` (`id` INT);

-- -----------------------------------------------------
--  routine1
-- -----------------------------------------------------

USE `mydb`;
DROP  IF EXISTS `mydb`.`routine1`;

DELIMITER $$
USE `mydb`$$
$$

DELIMITER ;

-- -----------------------------------------------------
-- View `mydb`.`view1`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`view1`;
DROP VIEW IF EXISTS `mydb`.`view1` ;
USE `mydb`;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
